场地预约模块
公告通知接口:管理员可以从后台发布关于场地的通知在前台显示，通知类型有两种:普通通知，重要通知。编辑或发布通知的表单由通知标题，通知内容和通知类型三部组成。通知相关接口需要:
1. 获取已发布通知(get)(需要返回的值包括但不限于:通知id，标题，内(这里前台和后台可以共用一个接口)容，类型，发布时间)
2. 编辑通知内容(put)
3. 删除通知(delete)
4. 发送/发布通知（POST）

# 羽毛球系统场地预约模块 - 公告通知接口文档

## 接口概述

公告通知模块提供了完整的通知管理功能，包括草稿管理、发布管理等。管理员可以创建、编辑、发布和删除通知，普通用户可以查看已发布的通知。

### 草稿功能说明

系统支持草稿功能，管理员可以：
1. 创建通知时默认保存为草稿状态（status=0）
2. 编辑草稿内容
3. 发布草稿使其对用户可见（status=1）
4. 删除不需要的草稿

### 前端使用建议

**管理员端：**
- 通知列表页面显示所有通知（包括草稿），用不同颜色或标识区分状态
- 提供"发布"按钮用于发布草稿
- 草稿状态的通知可以编辑，已发布的通知建议限制编辑或提供版本管理

**用户端：**
- 只显示已发布的通知（status=1）
- 重要通知可以置顶显示或特殊标识

---

## 1. 获取已发布通知列表（用户端）

**接口描述：** 获取已发布的通知列表，支持按类型筛选和分页

**请求URL：** `/api/reservation/notice`

**请求方式：** `GET`

**请求参数：**

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| pageNum | Integer | 否 | 1 | 页码 |
| pageSize | Integer | 否 | 10 | 每页数量 |
| type | Integer | 否 | null | 通知类型：1-普通通知，2-重要通知，null-全部类型 |

**响应参数：**

```json
{
  "status": 0,
  "msg": "成功",
  "data": {
    "pageNum": 1,
    "pageSize": 10,
    "size": 5,
    "total": 15,
    "pages": 2,
    "list": [
      {
        "id": 1,
        "title": "场地维护通知",
        "content": "本周六场地进行维护，暂停开放",
        "type": 2,
        "typeDesc": "重要通知",
        "status": 1,
        "statusDesc": "已发布",
        "createTime": "2024-01-15T10:30:00",
        "updateTime": "2024-01-15T10:30:00",
        "publishTime": "2024-01-15T10:30:00"
      }
    ]
  }
}
```

---

## 2. 获取通知详情

**接口描述：** 根据ID获取通知详情

**请求URL：** `/api/reservation/notice/{id}`

**请求方式：** `GET`

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | Integer | 是 | 通知ID |

**响应参数：**

```json
{
  "status": 0,
  "msg": "成功",
  "data": {
    "id": 1,
    "title": "场地维护通知",
    "content": "本周六场地进行维护，暂停开放",
    "type": 2,
    "typeDesc": "重要通知",
    "status": 1,
    "statusDesc": "已发布",
    "createTime": "2024-01-15T10:30:00",
    "updateTime": "2024-01-15T10:30:00",
    "publishTime": "2024-01-15T10:30:00"
  }
}
```

---

## 3. 管理员获取所有通知列表

**接口描述：** 管理员获取所有通知列表（包含草稿）

**请求URL：** `/api/reservation/notice/admin`

**请求方式：** `GET`

**权限要求：** 管理员权限

**请求参数：**

| 参数名 | 类型 | 必填 | 默认值 | 说明 |
|--------|------|------|--------|------|
| pageNum | Integer | 否 | 1 | 页码 |
| pageSize | Integer | 否 | 10 | 每页数量 |

**响应参数：**

```json
{
  "status": 0,
  "msg": "成功",
  "data": {
    "pageNum": 1,
    "pageSize": 10,
    "size": 8,
    "total": 20,
    "pages": 2,
    "list": [
      {
        "id": 1,
        "title": "场地维护通知",
        "content": "本周六场地进行维护，暂停开放",
        "type": 2,
        "typeDesc": "重要通知",
        "status": 1,
        "statusDesc": "已发布",
        "createTime": "2024-01-15T10:30:00",
        "updateTime": "2024-01-15T10:30:00",
        "publishTime": "2024-01-15T10:30:00"
      },
      {
        "id": 2,
        "title": "新年活动预告",
        "content": "新年期间将举办羽毛球比赛",
        "type": 1,
        "typeDesc": "普通通知",
        "status": 0,
        "statusDesc": "草稿",
        "createTime": "2024-01-16T09:00:00",
        "updateTime": "2024-01-16T09:00:00",
        "publishTime": null
      }
    ]
  }
}
```

---

## 4. 创建通知（草稿）

**接口描述：** 创建新通知，默认保存为草稿状态

**请求URL：** `/api/reservation/notice`

**请求方式：** `POST`

**权限要求：** 管理员权限

**请求参数：**

```json
{
  "title": "通知标题",
  "content": "通知内容",
  "type": 1
}
```

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| title | String | 是 | 通知标题 |
| content | String | 是 | 通知内容 |
| type | Integer | 是 | 通知类型：1-普通通知，2-重要通知 |

**响应参数：**

```json
{
  "status": 0,
  "msg": "通知创建成功",
  "data": 3
}
```

---

## 5. 更新通知内容

**接口描述：** 更新通知内容（草稿和已发布的通知都可以更新）

**请求URL：** `/api/reservation/notice/{id}`

**请求方式：** `PUT`

**权限要求：** 管理员权限

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | Integer | 是 | 通知ID |

**请求参数：**

```json
{
  "title": "更新后的通知标题",
  "content": "更新后的通知内容",
  "type": 2
}
```

**响应参数：**

```json
{
  "status": 0,
  "msg": "通知更新成功",
  "data": "通知更新成功"
}
```

---

## 6. 发布通知

**接口描述：** 将草稿状态的通知发布，使其对用户可见

**请求URL：** `/api/reservation/notice/{id}/publish`

**请求方式：** `POST`

**权限要求：** 管理员权限

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | Integer | 是 | 通知ID |

**响应参数：**

```json
{
  "status": 0,
  "msg": "通知发布成功",
  "data": "通知发布成功"
}
```

---

## 7. 删除通知

**接口描述：** 删除通知（草稿和已发布的通知都可以删除）

**请求URL：** `/api/reservation/notice/{id}`

**请求方式：** `DELETE`

**权限要求：** 管理员权限

**路径参数：**

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| id | Integer | 是 | 通知ID |

**响应参数：**

```json
{
  "status": 0,
  "msg": "通知删除成功",
  "data": "通知删除成功"
}
```

---

## 前端开发指南

### 1. 用户端开发

**通知列表页面：**

**UI建议：**
- 重要通知（type=2）使用红色或橙色标识
- 普通通知（type=1）使用蓝色或默认颜色
- 支持按类型筛选
- 显示发布时间

### 2. 管理员端开发

**通知管理页面：**

**UI建议：**
- 草稿状态（status=0）显示"草稿"标签，提供"发布"按钮
- 已发布状态（status=1）显示"已发布"标签
- 提供编辑、删除、发布等操作按钮
- 支持批量操作（批量发布、批量删除）

### 3. 状态管理

```javascript
// 通知状态枚举
const NOTICE_STATUS = {
  DRAFT: 0,      // 草稿
  PUBLISHED: 1   // 已发布
};

// 通知类型枚举
const NOTICE_TYPE = {
  NORMAL: 1,     // 普通通知
  IMPORTANT: 2   // 重要通知
};

// 状态显示文本
const getStatusText = (status) => {
  return status === NOTICE_STATUS.DRAFT ? '草稿' : '已发布';
};

const getTypeText = (type) => {
  return type === NOTICE_TYPE.IMPORTANT ? '重要通知' : '普通通知';
};
```

---

## 错误码说明

| 错误码 | 说明 |
|--------|------|
| 0 | 成功 |
| 400 | 参数错误 |
| 401 | 未登录 |
| 403 | 权限不足 |
| 404 | 资源不存在 |
| 500 | 服务器内部错误 |

---

## 注意事项

1. **权限控制：** 管理员接口需要 `ROLE_ADMIN` 权限
2. **草稿功能：** 创建的通知默认为草稿状态，需要手动发布
3. **数据验证：** 通知类型只能是1或2，标题和内容不能为空
4. **时间字段：** 
   - `createTime`: 创建时间
   - `updateTime`: 最后更新时间
   - `publishTime`: 发布时间（草稿状态为null）
5. **分页：** 使用PageHelper进行分页，返回完整的分页信息